!function(e){if("object"==typeof module&&"object"==typeof module.exports){var t=e(require,exports);void 0!==t&&(module.exports=t)}else"function"==typeof define&&define.amd&&define(["require","exports"],e)}(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TKEventEmitter=void 0;var r=(Object.defineProperty(n.prototype,"eventNames",{get:function(){return Object.keys(this.cache)},enumerable:!1,configurable:!0}),n.prototype.addEventListener=function(e,t){if(!e)return this;var r=this.cache[e]||[];return(this.cache[e]=r).indexOf(t)<0&&r.push(t),this},n.prototype.removeAllListeners=function(e){return e?!!this.cache[e]&&(this.cache[e]=[],!0):(this.cache=Object.create(null),!0)},n.prototype.removeListener=function(e,t){if(!e)return!1;var r=this.cache[e];if(r){var n=r.indexOf(t);if(-1<n)return r.splice(n,1),!0}return!1},n.prototype.listenerCount=function(e){return(this.cache[e]||[]).length},n.prototype.listeners=function(e){return this.cache[e]||[]},n.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var n=this.cache[e];if(n){var i=n.slice();try{for(var o=0,c=i.length;o<c;o++)i[o].apply(i,t)}catch(e){throw this.emit("error",e),e}}},n.prototype.off=function(e,t){return this.removeListener(e,t)},n.prototype.on=function(e,t){return this.addEventListener(e,t)},n.prototype.once=function(e,t){var r=this,n=this.cache[e]||[],i=function(){r.removeListener(e,t),r.removeListener(e,i)};return n.push(t),n.push(i),this.cache[e]=n,this},n.shared=new n,n);function n(){this.cache=Object.create(null)}t.TKEventEmitter=r,t.default=r});